@{
    ViewBag.Title = "Payment Page";
    var currentUrl = Request.Url.AbsoluteUri;
    var defaultJson = @"{
""shouldCreateStore"" : false,
""legalEntityInfo"": {
    ""type"": ""organization"",
    ""organization"": {
        ""legalName"": ""test single api legalName 6"",
        ""registeredAddress"": {
            ""country"": ""NL""
        }
    }
},
""storeCreationWithMerchantCodeRequest"": {
    ""description"": ""Sports Store single api 6"",
    ""shopperStatement"": ""Sports Shop 6"",
    ""phoneNumber"": ""+31621906056"",
    ""reference"": ""sports_store_6"",
    ""address"": {
        ""country"": ""NL"",
        ""line1"": ""Amstel 4B"",
        ""city"": ""PASSED"",
        ""postalCode"": ""1017AA""
    }
},
""paymentMethodSetupInfo"": {
    ""type"": ""mc"",
    ""currencies"": [
        ""EUR"",
        ""GBP""
    ],
    ""countries"": [
        ""NL"",
        ""GB""
    ]
},
""onboardingLinkInfo"": {
    ""redirectUrl"": ""{currentUrl}""
}
}";
}

<main aria-labelledby="title">
    <h2 id="title">@ViewBag.Title</h2>
    <div class="form-container">
        @using (Html.BeginForm("CreateAccountAndGenerateLinkAndRedirect", "Platform", FormMethod.Post))
        {
            <label for="jsonRequestBody">JSON Request Body:</label>
            <br />
            <textarea id="jsonRequestBody" name="jsonRequestBody" rows="10" cols="100" placeholder="Enter JSON request body">@defaultJson</textarea>
            <br />
            <button type="submit" title="Create Account and Generate Link">Create Account and Generate Link</button>
        }

        @if (ViewBag.ErrorMessage != null)
        {
            <div class="error">
                <h3>Error:</h3>
                <p>@Html.Raw(ViewBag.ErrorMessage)</p>
            </div>
        }
    </div>
</main>

<style>
    .form-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100vh;
        justify-content: center;
    }

    textarea {
        margin-bottom: 20px;
        font-family: monospace;
        width: 80%;
        max-width: 800px;
    }

    button {
        padding: 10px 20px;
        font-size: 16px;
    }

    .response, .error {
        margin-top: 20px;
        width: 80%;
        max-width: 800px;
        word-break: break-all;
    }
</style>